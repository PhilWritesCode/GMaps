(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)})([function(){var a,b=[].indexOf;a=angular.module('meetupApp',['AngularGM','ngGPlaces','ngRoute','ngAutocomplete']),a.factory('locationService',function(){return this.geocoder=new google.maps.Geocoder,this.searcher=new google.maps.places.PlacesService(document.getElementById('results')),this.processLocation=(a,b,c)=>this.geocoder.geocode({address:a,location:b},function(a,b){return b===google.maps.GeocoderStatus.OK?c(a[0]):b===google.maps.GeocoderStatus.ZERO_RESULTS?alert('Location not found!  Please try again, or add a different location.'):b===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?alert('Website is over query limit.  Please contact me at philip.t.jenkins@gmail.com'):b===google.maps.GeocoderStatus.REQUEST_DENIED?alert('Request denied.  Please contact me at philip.t.jenkins@gmail.com'):alert('Unknown Error.  Please check your internet connection and try again.')}),this.performSearch=(a,b,c,d)=>this.searcher.textSearch({query:b,location:a,radius:5},function(a,b,e){return b===google.maps.places.PlacesServiceStatus.OK?c(a,e):b===google.maps.places.PlacesServiceStatus.ZERO_RESULTS?(alert('No results found!  Please enter a different search term.'),d()):b===google.maps.places.PlacesServiceStatus.INVALID_REQUEST?(alert('Invalid request.  Please check search term and try again.'),d()):b===google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?(alert('Website is over query limit.  Please contact me at philip.t.jenkins@gmail.com'),d()):b===google.maps.GeocoderStatus.REQUEST_DENIED?(alert('Request denied.  Please contact me at philip.t.jenkins@gmail.com'),d()):(alert('Unknown Error.  Please check your internet connection and try again.'),d())}),this.getLocationDetails=(a,b)=>this.searcher.getDetails({placeId:a},function(a,c){return c===google.maps.places.PlacesServiceStatus.OK?b(a):void console.log('error fetching location details.')}),{processLocation:this.processLocation,performSearch:this.performSearch,getLocationDetails:this.getLocationDetails}}),a.controller('MeetupController',['$scope','$location','$anchorScroll','$routeParams','locationService',function(a,c,d,e,f){var g,h,i,j;return this.locationMarkers=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],this.clickDisablingNodes=['SELECT','A','INPUT'],this.locations=[],this.bounds=new google.maps.LatLngBounds,this.centerOfSearchArea,this.locationFormEntry,this.searchTerm='coffee',this.markerEvents,this.searchPages=[],this.searchPageIndex=0,this.searchPaginationObject,h=[],this.processLocationFormEntry=function(){return this.locationFormEntry&&f.processLocation(this.locationFormEntry,this.centerOfSearchArea,this.addLocation),this.locationFormEntry=''},this.addLocation=(b)=>{if(!this.locationAlreadyEntered(b))return this.locations.push(b),this.updateMapLocations(),this.performSearch(),a.$apply()},i=()=>(this.locationFormEntry=h.pop(),this.processLocationFormEntry()),this.locationAlreadyEntered=function(a){var b,c,d,e;for(e=this.locations,b=0,c=e.length;b<c;b++)if(d=e[b],d.formatted_address===a.formatted_address)return!0;return!1},this.removeLocation=function(a){return this.locations.splice(this.locations.indexOf(a),1),this.updateMapLocations(),this.performSearch()},this.updateMapLocations=()=>{var a,b,c,d;if(0<this.locations.length)for(this.bounds=new google.maps.LatLngBounds,d=this.locations,(a=0,b=d.length);a<b;a++)c=d[a],this.bounds.extend(c.geometry.location);return this.centerOfSearchArea=this.bounds.getCenter()},this.updateMapSearchResults=()=>{var a,b,c,d,e,f,g,h,i;if(0<this.getDisplayedResults().length){for(this.bounds=new google.maps.LatLngBounds,f=this.locations,(a=0,c=f.length);a<c;a++)e=f[a],this.bounds.extend(e.geometry.location);for(g=this.getDisplayedResults(),i=[],(b=0,d=g.length);b<d;b++)h=g[b],i.push(this.bounds.extend(h.geometry.location));return i}},this.updateSearchArea=function(a,b){return this.centerOfSearchArea=b.getPosition(),this.performSearch()},this.performSearch=()=>(this.searchPages=[],this.searchPageIndex=0,this.searchTerm&&0!==this.locations.length?f.performSearch(this.centerOfSearchArea,this.searchTerm,this.displayResults,j):void j()),this.displayResults=(b,c)=>{if(this.searchPaginationObject=c,this.searchPages.push(b.slice(0,10)),10<b.length&&this.searchPages.push(b.slice(10)),2<this.searchPages.length&&this.searchPageIndex++,this.updateMapSearchResults(),a.$apply(),0<h.length)return i()},j=()=>a.$broadcast('gmMarkersUpdate','meetup.getDisplayedResults()'),this.getDisplayedResults=function(){return this.searchPages[this.searchPageIndex]},this.addLocationDetail=(b)=>{var c,d,e,f;for(e=this.getDisplayedResults(),c=0,d=e.length;c<d;c++)if(f=e[c],f.place_id===b.place_id){f.reviews=b.reviews,f.formatted_phone_number=b.formatted_phone_number,f.url=b.url,f.website=b.website,f.opening_hours=b.opening_hours;break}return a.$apply(),j()},this.getLocationId=function(a){return this.locationMarkers[this.locations.indexOf(a)]},this.getBaseUrl=function(a){var b;if(a)return b=a.split('/'),b[2]},this.selectResult=function(a){var b,c,d,e;for(void 0===a.website&&f.getLocationDetails(a.place_id,this.addLocationDetail),d=this.getDisplayedResults(),(b=0,c=d.length);b<c;b++)e=d[b],e.selected=!1;return a.selected=!0,j()},this.deSelectResult=function(a){return a.selected=!1,j()},this.highlightResult=function(a){return a.highlighted=!0,j()},this.unHighlightResult=function(a){return a.highlighted=!1,j()},this.toggleSelection=function(a){return a.selected?(this.deSelectResult(a),this.triggerCloseResultsInfoWindow(a)):(this.selectResult(a),this.triggerOpenResultsInfoWindow(a))},this.handleTextEntryClicked=function(a,c){var d;if(d=c.target.nodeName,0<=b.call(this.clickDisablingNodes,d));else return this.toggleSelection(a)},this.triggerOpenResultsInfoWindow=function(a){return this.markerEvents=[{event:'openresultsinfowindow',ids:['result'+a.place_id]}]},this.triggerCloseResultsInfoWindow=function(a){return this.markerEvents=[{event:'closeresultsinfowindow',ids:['result'+a.place_id]}]},this.getNormalizedAddress=function(a){var b;if(a)return b=a.formatted_address,0<b.indexOf(', USA')?b.substr(0,b.indexOf(', USA')):0<b.indexOf(', United States')?b.substr(0,b.indexOf(', United States')):b},this.nextPageAvailable=function(){return this.searchPages.length-1>this.searchPageIndex||this.searchPaginationObject&&this.searchPaginationObject.hasNextPage},this.getSearchResultPageNumbers=function(){if(this.getDisplayedResults())return 10*this.searchPageIndex+1+' - '+(10*this.searchPageIndex+this.getDisplayedResults().length)},this.getPreviousPage=function(){if(0<this.searchPageIndex)return this.searchPageIndex--,this.updateMapSearchResults()},this.getNextPage=function(){return this.searchPages.length-1>this.searchPageIndex?(this.searchPageIndex++,this.updateMapSearchResults()):this.searchPaginationObject.hasNextPage?this.searchPaginationObject.nextPage():void 0},this.getPageTitle=function(){return g()?'HalfwayHangout':'MidwayMeetup'},this.getPageSubTitle=function(){return g()?'Where do you want to hang out?':'Where do you want to meet up?'},this.getMeetupNomenclature=function(){return g()?'hang out':'meet up'},this.getFavIcon=function(){return g()?'img/hangout.ico':'img/meetup.ico'},g=function(){return 0<=window.location.host.indexOf('halfwayhangout.com')},this.getLocationPlaceholder=function(){return 0<this.locations.length?'Enter another address...':'Enter a starting address'},this.scrollTo=function(a){return c.hash(a),d()},this.initController=function(){var a,b;if(b=c.search(),a=e,b.search&&(this.searchTerm=b.search),b.locations)return h=b.locations.split(':'),i()},this.generatePermalink=function(){return c.host()+'?search='+this.searchTerm+'&locations='+this.locationsToDelimitedString()},this.locationsToDelimitedString=function(){var a,b,c,d,e;for(d='',e=this.locations,(a=0,b=e.length);a<b;a++)c=e[a],d+=this.getNormalizedAddress(c)+':';return d.slice(0,-1)},this.getMapLocationOptions=function(a){return angular.extend(this.mapLocationOptions,{icon:'http://maps.google.com/mapfiles/marker_grey'+this.locationMarkers[this.locations.indexOf(a)]+'.png'})},this.getMapSearchAreaOptions=function(){return 0<this.locations.length?this.mapSearchAreaOptions:this.mapHiddenMarkersOptions},this.getMapSearchResultsOptions=function(a){return angular.extend(this.searchResultOptions,a.selected?this.markerSelectedIcon:a.highlighted?this.markerHighlightedIcon:this.markerDefaultIcon)},this.markerSelectedIcon={icon:'https://maps.gstatic.com/mapfiles/ms2/micons/yellow-dot.png'},this.markerHighlightedIcon={icon:'http://labs.google.com/ridefinder/images/mm_20_yellow.png'},this.markerDefaultIcon={icon:'http://labs.google.com/ridefinder/images/mm_20_purple.png'},this.mapOptions={map:{center:new google.maps.LatLng(39,-95),zoom:4,mapTypeId:google.maps.MapTypeId.TERRAIN}},this.mapSearchAreaOptions={visible:!0,draggable:!0,icon:'http://maps.google.com/mapfiles/arrow.png'},this.mapLocationOptions={draggable:!1},this.searchResultOptions={draggable:!1,clickable:!0},this.mapHiddenMarkersOptions={visible:!1}}]),a.controller('ResultListController',['$scope',function(){return this.getHoursForToday=function(a){var b,c,d,e;if(d=new Date().getDay(),a.opening_hours&&a.opening_hours.periods)return c=a.opening_hours.periods[d],c?(e=this.formatHours(c.open.hours)+':'+this.formatMinutes(c.open.minutes)+' '+this.getAMPM(c.open.hours),b=this.formatHours(c.close.hours)+':'+this.formatMinutes(c.close.minutes)+' '+this.getAMPM(c.close.hours),e+' - '+b):'Closed'},this.formatHours=function(a){return 13>a?a:a-12},this.formatMinutes=function(a){return 10<a?a:a+'0'},this.getAMPM=function(a){return 12>a?'am':'pm'},this.getDirections=function(a,b){var c;return console.log('from '+a+' to '+b),a&&b&&(c='http://maps.google.com/maps?saddr='+a.formatted_address+'&daddr='+b.formatted_address,console.log(c),window.open(c,'_blank')),!0}}])}]);